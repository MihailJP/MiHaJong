【MiHaJong】
　このゲームは、ごく普通の麻雀ゲームです。
　日本で一般的に行なわれているリーチ麻雀で行なわれますが、「喰い断の有無」「二
翻縛りの有無」といったローカルルールや、「大車輪」「八連荘」「十三不塔」など
ローカル役などの設定項目が多数存在します。設定できる項目の中には「西中島南方」
「双龍争珠」「覇王鞭」「青天井ルール」と言った、ソフトウェアとして実装されるの
が稀なものも含まれます。
　また、牌譜出力機能もあり、インターネットを経由した通信対戦も可能です。
　なお、麻雀の具体的な遊び方については別途麻雀入門書などをご覧ください。

【動作環境】
　Windows XP/Vista/7、Direct X 9 以降
　HTML形式の牌譜を閲覧する場合は別途フォントのインストールが必要(詳細は後述)

【インストールのしかた】
　ダウンロードしたアーカイブファイルの中身を適当な場所に解凍してください。
　Vista 以降をお使いの場合で C:\Program Files 以下にインストールした場合、自動的
に認識し設定や牌譜のファイルの出力先を再設定します(Program Filesへのインストール
自体は管理者権限が必要ですが、プレイ時には管理者権限は不要です)。

【アンインストールのしかた】
　レジストリは使わないので、インストールした先をフォルダーごと削除するだけです。
牌譜を取っておきたい場合は haifu フォルダーをバックアップしておきます。
　Vista 以降をお使いの場合で C:\Program Files 以下にインストールした場合、設定と
牌譜は C:\Users\(ユーザー名)\AppData\Roaming\MiHaJong 以下に出力されますので、必
要のない方はこれも削除します。

【基本ルール】
・後付あり
・喰い断の有り無しはコンフィグで設定可
・流し満貫は流局扱いで常に連荘、ただしコンフィグでなくすこともできる
・ダブ風雀頭は４符か２符かを設定可(一部のローカル役も重なると６符などになる場合
　がある)
・半荘戦で、トップが返し点に満たない場合は延長戦(西入サドンデス)。西四局を終え
　てもトップが３万点に満たない場合北入し、北場を終えても再延長があるなら帰り東
　場へ、以下何周でも続く(通信対戦では１６周目の北四局まで対応)
・喰い替えは、デフォルトではなし。喰い替えすると和了り放棄だが一巡おいた場合は
　問題なし。筋喰い替えも禁止（たとえば２３４と持っているところで１をチーして直
　後に４を捨てることをいう。但し遠い筋、たとえば２３４５６７と持っているところ
　で１をチーして７を捨てるのは問題ない）
・流し満貫は頭ハネに設定していても全員成立が認められる
・四槓子は裸単騎を和了らないと認められない。四槓子に包はない。
・九蓮宝燈は暗槓があると認められない。また、萬子でなくても良い
・大三元、大四喜に対して包が適用される。これらの役満を確定させるポンまたは大明
　槓をさせた人は、その役満で自摸和された時は１人払い、栄和された時は放銃者との
　折半払い。包となった大三元に字一色や四槓子などが付いた場合、それらの分も「含
　めて」責任払いが適用される(実装上の都合です)
・設定で「不聴連荘」以外にしている場合、例えオーラスであろうと流局親流れがある。
・振聴立直あり(自摸れば和了れる)、空聴立直あり(和了れないだけで罰則はない)
・不聴立直は流局時錯和(何らかの理由で発生したときのための処置)
・オープン立直のありなしをコンフィグで設定可能(オープン立直時全ての牌を開示)。
　立直していない者がオープンリーチに振り込んだ場合は役満払い(実装上は＋１１飜で
　数え役満扱い)。ダブル立直をオープンした場合は３飜
・立直後の暗槓は塔子や順子になっていない牌のみ。立直後の送り槓(たとえば444456と
　持っているところに7を自摸って4をカンすること)は禁止
・立直縛りをONにしている場合は鳴いていても立直可、ただし鳴いた場合立直、一発、
　裏ドラは付かず、オープン立直は不可
・二飜縛り時、一発・ツモ・海底期待の立直あり(結果的に和了れればよい)。また、
　オープン立直だけで和了ってよい
・地和は子の第一ツモでの和了り、人和は子の第一ツモ以前の栄和
・チョンボあり。チョンボの場合は積み棒を増やさず(ただし不聴立直発覚時のみ増え
　る)仕切りなおし、チョンボ罰符に積み棒はかからない。錯和があったとき、供託点棒
　はそのまま持ち越し
・その他、様々な項目についてコンフィグで設定可能

【捨牌の仕方】
　自分のツモ番になると牌の下にボタンが表示されます。対応するボタンを押して牌を
捨ててください。
　ボタンに括弧書きの数字が表示されている時はその牌を切ると聴牌になります。この
数字は待ち牌の残り枚数を示しています。このときマウスカーソルを捨牌ボタンに合わ
せると待ち牌ごとの残り枚数が表示されます。
　また、右クリックするとツモ切りを行ないます。ツモ切りした牌は河で灰色に表示さ
れます。

【立直の仕方】
　門前で聴牌した際には、右下に「リーチ」ボタンが表示されます(コンフィグで立直縛
りをONにしていた場合は門前でなくても表示される)。ボタンを押した後、対応する捨牌
ボタンを押してリーチします。
　リーチしたあとは、当たり牌や暗槓できる牌、花牌のほかは自動でツモ切りを行ない
ます。

【暗槓・加槓の仕方】
　暗槓や加槓ができる状況では、右下に「カン」ボタンが表示されます。このボタンを
押すとカンができる牌以外のボタンが全て隠れますのでカンしたい牌のボタンを押して
ください。
　暗槓ないし加槓が行なわれ、嶺上牌が自摸られます。

【立直後の暗槓】
　リーチしたあと、順子や塔子の一部をなさない暗刻と同じ牌を自摸った時はその牌を
暗槓することができます。暗槓する時は「カン」を押し、ツモ牌のボタンを押すことで
暗槓ができます。
　暗槓しない時はそのままツモ切りボタンを押してください。
　立直後の送り槓や、面子構成が変わるような暗槓はできないようになっています。

【和了りの仕方】
　自摸和や栄和ができる状況では、右下に「アガリ」と書かれた大きなボタンが表示さ
れます。それを押すことで和了ることができます。
　但しこのゲームではチョンボがありますのでご注意ください。
　栄和をしない場合、「無視」という小さなボタンを押すとその牌を見逃します。

【キーボード操作について】
　操作はマウスのほか、キーボードでも行えます。
捨牌：１２３４５６７８９０－＾￥
ツモ切り：BackSpace、Esc
ロン・ツモ：Enter
立直：F1(もう一度押すとオープン立直)
九種九牌：F2
花牌・抜きドラ：F3
ポン：F3
カン：F4
チー：F5(下を鳴く)、F6(嵌張)、F7(上を鳴く) ※後述の注意も参照
パス：F8、BackSpace、Esc

【オートモードについて】
　このゲームには、３つのオート機能があります。
　「オート和了」「オートパス」「ツモ切り」は、一度押すとＯＮになり、もう一度押
すとＯＦＦになります。
　「オート和了」をＯＮにすると、当たり牌が出るかツモるかした時に勝手に和了って
くれます。但しこのモードでは和了れない牌でも和了ろうとするので、片和了りや形聴、
振聴の場合は絶対にＯＮにしないで下さい。
　「オートパス」はＯＮにしている間、全ての鳴き(ロン以外)をパスします。
　「ツモ切り」はＯＮにしていると自動的にツモ切りします。但し当たり牌をツモった
場合などは和了るかどうかを聞かれます。

【チャットウィンドウについて】
　チャットＯＮ／ＯＦＦのボタンを押すと、チャットウィンドウが表示されます。もう
一度押すとチャットウィンドウを閉じます。
　通信対戦中に限り入力ボックスが使用でき、ＯＫを押すと送信されます。
　スタンドアロンでもチャットウィンドウ自体は利用でき、ルールの確認が行なえます。

【九種九牌の宣言】
　コンフィグで九種九牌をありにしている場合、親は配牌、子は鳴きのない第一ツモの
時点で一九字牌が９種類以上ある場合は「流局」ボタンが表示されます。このボタンを
押すと九種九牌で流局となります。
　国士無双を狙うなどの理由で流さない時はそのまま捨牌を行なってください。

【十三不塔について】
　コンフィグで十三不塔をありにしている場合、親は配牌、子は鳴きのない第一ツモの
時点で対子が１つだけあり、それ以外の１２枚が全て浮き牌の場合は特別に「アガリ」
ボタンが表示されます。これを押すと役満または満貫(コンフィグに依存)のツモ和了り
として扱われます。
　なお、このときの牌が全て一九字牌であれば国士無双が成立しますので、十三不塔で
はなく国士無双＋天和(または地和)となります。

【鳴き仕掛けの仕方】
　鳴き仕掛けが可能になる牌が捨てられたとき、対応するボタンが右下に表示されます
のでそれを押すと鳴きます。鳴き仕掛けを行わない場合は、「無視」というボタンを押
してください。
　任意の場所で右クリックを行なうことによっても鳴きをスルーします。

【鳴きに関する一般的な注意】
　鳴く面子に赤ドラを含めるかどうかの選択はできません

【順子を鳴くときの注意】
　たとえば上家が６を捨てたとき、
・[６]７８と鳴くには「下吃」
・５[６]７と鳴くには「嵌吃」
・４５[６]と鳴くには「上吃」
を押してください。若干わかりにくいですが、ツールチップにはどのような形で鳴くか
が具体的に表示されますので参考にしてください。

【花麻雀について】
　コンフィグで花牌ありにしている場合は、花牌が４枚または８枚入ります。花牌が入っ
た分牌山も増え合計１４０ないし１４４枚になり、嶺上牌も４ないし８枚増えるためド
ラ表示牌は３幢目ではなく５ないし７幢目からめくることになります。このゲームの花
麻雀では、王牌全体の枚数も４ないし８枚増え１８ないし２２枚になります(花牌を誰も
抜かないうちに四槓子の聴牌者が出た場合を想定してのことです)。
　花牌をツモった、または花牌が配牌に含まれていた時は「花牌」ボタンを押し、直後
に花牌を選択することで晒すことができます(スペースの都合で晒した花牌は文字だけ表
示されます)。花牌を晒すことで、ドラ１になります。三麻の抜き北と同じです。
　花牌は面子や雀頭に使うことはできませんが、花牌を捨てるとドラ１の権利を放棄す
る代わりに安全牌になります(花牌を鳴くことはできません)。花牌を捨てるには「花牌」
ボタンを「押さずに」、花牌を選択します。
　東家は春と梅、南家は夏と蘭、西家は秋と菊、北家は冬と竹を本花といい、コンフィ
グで設定されている場合は、これを抜いて晒すと祝儀役が付加され合計でドラ２になり
ます。
　春夏秋冬、梅蘭菊竹をそれぞれ揃えると、コンフィグで設定されていれば役が付きま
す。また、８つの花牌を全て抜くと、和了ったときに八仙過海という役満に(コンフィグ
で設定されていれば)なります(花牌を８枚全部抜いても、和了れなければ役満になりま
せん)。なお、花牌も嶺上開花の対象となります。七搶一(７枚の花牌を抜いて残りの１
枚を他家が抜くと役満の出和了りになるルール)はありません。
　花牌がドラ表示牌になった場合、花牌がダブドラ(本花はドラ３)になります。
　海底牌が花牌だった場合、これを抜いた時点で嶺上牌を自摸らず流局となります。

【青天井計算について】
　コンフィグで青天井計算をONにすると、青天井ルールになります。役満については、
一律親1500万点・子1000万点とする方法と、13飜(ダブル役満は26飜・以下同様)とする
方法から選択できます。この場合、国士無双、十三不塔などは30符として扱います。
　持ち点や和了点は、理論上±21不可思議(2.147e65)点まで保持できます。

【三人打ちについて】
　アーカイブ内には、三人打ち用のクライアントも付属しています。また、四人三麻用
のクライアントもあります。
・北家がいない(四人三麻では北家が抜け番)
・萬子の中張牌なし。三色同順は消滅
・ドラ表示牌が一萬の時は、九萬がドラ
・チーなし
・北は面子で使うと客風
・コンフィグで設定してある場合は北が抜きドラ、嶺上牌は8枚、王牌は14枚
・他家が抜いた北でロンすることができる(役は付かない)
・北を抜いたときにも嶺上開花が成立する
・北を4枚抜いても特典は無い(ドラ4になるだけ)
・ツモ和了り時の支払いは親子関係なく折半(ツモ損なし)
・積み棒は１本場につきデフォルトで場200点(コンフィグで設定可)
・四人三麻では抜け番の北家もツモ和了りの点数を支払う

【開門位置(割れ目)について】
　次のようになります。
サイ　四麻　三麻　　サイ　四麻　三麻
　　　　　　　　　　　７　西家　東家
　２　南家　南家　　　８　北家　南家
　３　西家　西家　　　９　東家　西家
　４　北家　東家　　１０　南家　東家
　５　東家　南家　　１１　西家　南家
　６　南家　西家　　１２　北家　西家

【待ち牌の表示について】
　流局・和了・オープン立直などで手牌が開示された時に待ち牌が表示される機能があ
ります(天和の場合を除く。また、不聴の時は「ノーテン」を表示します)。このときの
待ち牌は、筋ごとにまとめて表示されます。例えば次の門混の場合
　　　２２２３４５６７７７發發發
「一四七索 二五八索 三六索待ち」と表示されます。

【通信対戦について】
　人数が足りなくてCOMを入れて遊ぶ時は、サーバー側の「この面子で開始する」スイッ
チを押してください。その時接続している人数で遊べます。
　あと、現在のプロトコルの仕様上(そして実装上)信頼性が高くないです。
　ポートは50000～50003を使用します。三人打ちでは50010～50022を、四人三麻では
50030～50033を使用します。また、チャット用に50020～50023を使用します。

【落ち戻りについて】
　ホストとの接続が切断された場合、自動的に再接続を試みます。再接続に成功した場
合、その局は和了り放棄となりホスト側でツモ切りが行なわれます。次の局が開始する
と、画面が切り替わり試合に復帰できます。
　いつまで経っても復帰できない場合は、半荘が終わってしまった場合などが考えられ
ます。再接続が失敗した場合はゲームに復帰できません。

【ＢＧＭについて】
　BGMは付属していませんが、bgm フォルダーに入れていただくことで再生されます。
MIDIファイル(*.mid)とOGG Vorbis(*.ogg)に対応しています。両方入れた場合はOGGが優
先されます。ファイル名は以下を指定します(拡張子は省略してあります)。
・title  …… タイトル画面
・bgm1 ……… 東一局
・bgm2 ……… 東二局
・bgm3 ……… 東三局
・bgm4 ……… 東四局(東風戦では使用しません)
・bgm5 ……… 南一局
・bgm6 ……… 南二局
・bgm7 ……… 南三局
・bgm8 ……… 南四局(半荘戦では使用しません)
・bgm9 ……… 西一局
・bgm10  …… 西二局
・bgm11  …… 西三局
・bgm12  …… 西四局
・bgm13  …… 北一局
・bgm14  …… 北二局
・bgm15  …… 北三局
・bgm16  …… 北四局(認識はしますが使用はしません)
・final  …… オーラス
・richi1 …… 他家の立直時
・richi2 …… 自家の立直時
・richi3 …… 自家の追っかけ立直時
・opnrichi … オープン立直時
・shibari  … 二翻縛り時(コンフィグでONにしていない場合使用しません)
・ending …… 半荘終了時(自分がトップ)
・ending2  … 半荘終了時(自分がトップ以外)
・agari1 …… 和了画面ジングル(親2900/子2000点未満)
・agari2 …… 和了画面ジングル(親2900/子2000点以上親5800/子3900点未満)
・agari3 …… 和了画面ジングル(親5800/子3900点以上満貫未満)
・agari4 …… 和了画面ジングル(満貫)
・agari5 …… 和了画面ジングル(跳満)
・agari6 …… 和了画面ジングル(倍満)
・agari7 …… 和了画面ジングル(三倍満)
・agari8 …… 和了画面ジングル(数え役満)
・agari9 …… 和了画面ジングル(役満)
・pingju …… 流局時ジングル

【半荘が終わったら】
　半荘が終わったら、未収供託、ウマ、およびオカの清算が行なわれ最終スコアが表示
されます。終了時に残っていた供託点棒はトップ者が取ります。右下に「確認」という
ボタンが表示されるので、これを押すとタイトル画面に戻ります。
　さらにhaifuフォルダに牌譜が出力されます。牌譜はテキスト形式とHTML形式で、対局
を終えた日時がファイル名となります。HTML形式の牌譜を閲覧するには、
「GL-MahjongTile」フォントをインストールしていただく必要があります。このフォン
トは Gutenberg Labo にて無償公開されています。
Gutenberg Labo　http://gutenberg.sourceforge.jp/
※Windows 7 で OpenType 版の GL-MahjongTile フォントを使っている場合、Firefox
がフリーズしてしまう現象が起こるようです。そのような場合は、TrueType 版をお使い
ください。
　Vista 以降で MiHaJong を C:\Program Files 以下にインストールした場合、牌譜は
C:\Users\(ユーザー名)\AppData\Roaming\MiHaJong\haifu に出力されます。それ以外の
場合は、 (MiHaJongをインストールしたパス)\haifu に牌譜が出力されます。

【テキスト形式の牌譜の見方】
一～九(通常の漢数字です)………………萬子
①～⑨(丸囲み数字です)…………………筒子
１～９(全角数字です)……………………索子
壱～玖(難しいほうの漢数字です)………萬子の赤ドラ
⑪～⑲(10を加算した丸囲み数字です)…筒子の赤ドラ
Ⅰ～Ⅸ(ローマ数字です)…………………索子の赤ドラ
東南西北白發中……………………………字牌
春夏秋冬梅蘭菊竹…………………………花牌
↓……………………………………………ツモ切り
＜ポン[發]發發……………………………上家から発をポンしたことを表す
∧▽カン五[伍五]五………………………対面から五萬をポンし、後に赤五萬を加槓
＞カン３３３[Ⅲ]…………………………下家の捨てた赤三索を大明槓
＜チー[⑦]⑥⑧……………………………七筒を嵌張としてチーしたことを表す
◇カン東東東東……………………………東を暗槓したことを表す
ドラ：⑥ 三 ………………………………ドラは六筒、槓ドラは三萬であることを表す
　　　　　　　　　　　　　　　　　　(実際にドラになっている牌が書かれます)
チー、ポン、カン…………………………鳴いた牌を表す
　　　　　　　　　　　　　　　　　　(槓の場合は嶺上牌が右に書かれる)
リーチ………………………………………リーチ宣言牌を表す
ツモ…………………………………………その牌でツモ和了りしたことを表す
ウチ…………………………………………その牌で振り込んだことを表す
リ×…………………………………………リーチ宣言牌で振り込んだことを表す
カン×………………………………………搶槓されたことを表す
※通常ドラ表示牌１枚に付き１つのドラが設定されますが、コンフィグで設定していた
　場合に限りドラ表示牌１枚で３つのドラが設定されるので、その時はドラが３つずつ
　書かれます。「ドラ：②③④ 九一二 」といった具合。

【何かあったら】
　バグレポートやパッチ、役満和了ったなどの報告は、次の連絡先にどうぞ。
・メール： mihailjp@gmail.com
・Twitter： @MihailJP
　また、バグレポートや要望はTracのシステムでも受け付けています。
http://trac.assembla.com/mihajong/ から「New Ticket」を選択し、報告したい内容を
記入します。
　また、最新の開発版は次のSubversionリポジトリで公開されています。
http://subversion.assembla.com/svn/mihajong/trunk/

【既知の問題点】
・OSの設定で左右のボタンを入れ替えているとマウスボタンで正常に打牌できない。
・ポン聴または吃聴の直後、画面下の待ち牌表示に変なものが表示される。
・永田町ルールをONにしているとドラ表示牌の読み方の設定が反映されない。
・ダブロンすると下家側のアリス判定が異常。
・たまにCOMが喰い変えをする。

【MihailJPの開発環境】
・OS：Windows 7 Home Premium 32bit (Service Pack 1)
・物理メモリ：OS認識3GB、搭載4GB
・CPU：Intel Core i5 750 2.67GHz
・開発言語：Hot Soup Processor ver3.2
・Subversionクライアント：Tortoise SVN と Cygwin SVN の併用

【ビルドに別途必要なもの】
・Hot Soup Processor 本体 (http://hsp.tv/)
・p2b.dll (http://www.geocities.jp/anachronism128/)
・hmm.dll (http://hsp.tv/make/tool3.html)
・hsplzmax.dll (http://www.vector.co.jp/soft/winnt/prog/se489215.html)
・l_tooltips.as (http://lhsp.s206.xrea.com/hsp_object6.html)
・Let's HSPIC! (http://lhsp.s206.xrea.com/works/hsp.html)
・Resource Hacker 日本語版 (http://www.angusj.com/resourcehacker/)
・UPX (http://upx.sourceforge.net/)

【ライセンスについて】
　このソフトウェアはどなたでも無償でご使用いただけますが、著作権を放棄するもの
ではありません。

　ソフトウェア全体としては、次のライセンスで提供されるものとします。使用した素
材などの利用条件は後述してあります。

-----------------------------------(キリトリ)-----------------------------------
Copyright (c) 2011, MihailJP
All rights reserved.

　ソースコード形式かバイナリ形式か、変更するかしないかを問わず、以下の条件を満
たす場合に限り、再頒布および使用が許可されます。

・ソースコードを再頒布する場合、上記の著作権表示、本条件一覧、および下記免責条
　項を含めること。
・バイナリ形式で再頒布する場合、頒布物に付属のドキュメント等の資料に、上記の著
　作権表示、本条件一覧、および下記免責条項を含めること。
・本ソフトウェアで使用されている画像、音声、その他のコンポーネントに追加の使用
　条件が設定されているものがある場合は、その条件にも従うこと。
・書面による特別の許可なしに、本ソフトウェアから派生した製品の宣伝または販売促
　進に、MihailJPの名前またはコントリビューターの名前を使用してはならない。

　本ソフトウェアは、著作権者およびコントリビューターによって「現状のまま」提供
されており、明示黙示を問わず、商業的な使用可能性、および特定の目的に対する適合
性に関する暗黙の保証も含め、またそれに限定されない、いかなる保証もありません。
著作権者もコントリビューターも、事由のいかんを問わず、 損害発生の原因いかんを問
わず、かつ責任の根拠が契約であるか厳格責任であるか（過失その他の）不法行為であ
るかを問わず、仮にそのような損害が発生する可能性を知らされていたとしても、本ソ
フトウェアの使用によって発生した（代替品または代用サービスの調達、使用の喪失、
データの喪失、利益の喪失、業務の中断も含め、またそれに限定されない）直接損害、
間接損害、偶発的な損害、特別損害、懲罰的損害、または結果損害について、一切責任
を負わないものとします。
-----------------------------------(キリトリ)-----------------------------------

【使用した牌画データの元データについて】
　麻雀素材「まつセン」で配布されていたデータを元にしています。
> ・使用にあたって連絡の必要はありませんし、リンクや出典表示も強制しません。
> ・著作権フリー。改造、再配布､プログラムへの使用もOKです。
　なお、ブラック牌のデータはこれを元に色を変更したものです。現在使用していませ
んが、差し替えて使うことができます。

　参照：http://www4.cty-net.ne.jp/~l6000all/ (リンク切れ)
　Web Archiveに残るデータは次の場所にあります。
　http://web.archive.org/web/20080421025908/http://www4.cty-net.ne.jp/~l6000all/

【花牌の画像データの元となったデータについて】
　Wikimedia Commons の Mahjong-flowersseasons.jpeg を元に加工して使用していま
す。
> This image has been (or is hereby) released into the public domain by its
> author, Patrick McKleinschuss at the Spanish Wikipedia project. This applies
> worldwide.
> In case this is not legally possible:
> Patrick McKleinschuss grants anyone the right to use this work for any 
> purpose, without any conditions, unless such conditions are required by law.

　参照：http://commons.wikimedia.org/wiki/Image:Mahjong-flowersseasons.jpeg

【使用した効果音のデータについて】
　「ザ・マッチメイカァズ」で配布されているフリー素材を使用しております。
> ＜＜素材利用規約＞＞
> ＊ここでの”フリー素材”という言葉は、利用規約の範囲内であれば各データを無料
> かつ自由に使用できるという意味で掲げております。著作権の放棄は しておりませ
> ん。
> ＊何らかの創作物の一部として使用せずに 素材その物のみを無断で転載・配布する事
> は禁止いたします。素材データとしての転載・再配布を行いたい場合は 事前にご相談
> 下さい。
> 　ここの素材を加工・改造した物を”素材として”広く配布する事もできません（配
> 布を行いたい場合は事前にご相談下さい）
> ＊素材ファイルへの直リンクは一切禁止いたします
参照：http://osabisi.sakura.ne.jp/m2/

【Perlからの移植コードについて】
　ゲームの本質ではない部分で、Perlからの移植コードを使用しています。移植したモ
ジュールとライセンスは次の通りです。

[Astro::MoonPhase]
> [LICENCE]
> This program is in the public domain: "Do what thou wilt shall be the whole
> of the law".
> 
> [AUTHORS]
> The moontool.c Release 2.0:
>     A Moon for the Sun
>     Designed and implemented by John Walker in December 1987,
>     revised and updated in February of 1988.
> 
> Initial Perl transcription:
>     Raino Pikkarainen, 1998
>     raino.pikkarainen@saunalahti.fi
> 
> The moontool.c Release 2.4:
>     Major enhancements by Ron Hitchens, 1989
> 
> Revisions:
>     Brett Hamilton  http://simple.be/
>     Bug fix, 2003
>     Second transcription and bugfixes, 2004
> 
>     Christopher J. Madsen  http://www.cjmweb.net/
>     Added phaselist function, March 2007

参照：http://search.cpan.org/~brett/Astro-MoonPhase/MoonPhase.pm

[Astro::Sunrise]
> Here is the copyright information provided by Paul Schlyer:
> 
> Written as DAYLEN.C, 1989-08-16
> Modified to SUNRISET.C, 1992-12-01
> (c) Paul Schlyter, 1989, 1992
> Released to the public domain by Paul Schlyter, December 1992
> 
> Permission is hereby granted, free of charge, to any person obtaining a copy
> of this software and associated documentation files (the "Software"), to deal
> inthe Software without restriction, including without limitation the rights
> to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
> copies of the Software, and to permit persons to whom the Software is
> furnished to do so, subject to the following conditions:
> 
> The above copyright notice and this permission notice shall be included in
> all copies or substantial portions of the Software.
> 
> THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
> IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
> FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
> AUTHOR BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
> ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
> WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

参照：http://search.cpan.org/~rkhill/Astro-Sunrise-0.91/Sunrise.pm

【HSPの拡張機能について】

[hmm.dll]
　MIDIとOGGファイルの読み込みに使用しています。使用条件等は以下の通りです。

> □著作権
> このDLLの著作権はうにたまにあります。
> ですが、営利、非営利とわず自由に転載、配布、同梱していただいて結構です。
> 連絡も必要ありません。
> 書籍で紹介される場合はメールでご連絡ください。
> 
> □免責事項
> あなたがこのDLLを使って生じたいかなる障害や損害に対して、うにたまは一切の責任
> を負わないものとします。
> これに同意できる方のみ御使用ください。

　注：このDLLに関するMihailJPへの連絡はご遠慮ください。

[p2b.dll]
　PNGファイルの読み込みに使用しています。使用条件等は以下の通りです。

> 著作権
> --------------------------------------------------------------------
> libpng 1.2.8  Copyright (c) 1998-2004 Glenn Randers-Pehrson
> zlib 1.2.3  Copyright (C) 1995-2005 Jean-loup Gailly and Mark Adler
> --------------------------------------------------------------------
> 
> 免責事項
> 本DLLを使用したことによって生じた、いかなる損害に対してもDLL作者は一切の責任
> を負いません。
> 
> 配布条件
> 有償、無償を問わず再配布可能です。
> 配布物に上記の著作権表記を含める必要があります。(DLLのバージョン情報に埋め込
> んであるので不要らしいけど)

[hspda.dll]
　Mersenne Twisterを使用しています。使用条件等は以下の通りです。

> ・著作権(ライセンス)および連絡先
> 
> ユーザーがHSPを使って作成したオリジナルのソフトウェア(実行ファイル)の
> 権利は、それを作成したユーザーに属します。
> 有償・無償を問わずHSPDA.DLLを自由に配布することができ、onion softwareの
> 著作権表示義務もありません。
> ユーザーが作成したオリジナルのソフトウェアに対してonion softwareが著作権を
> 主張することはありません。
> 
> HSPDAプラグインは、onion softwareの著作物です。
> onion softwareは本プログラムによって生じた、いかなる損害についても
> 保証いたしません。自己の責任の範囲で使用してください。
> HSPDA.DLLは、Microsoft Visual C++ 2005でコンパイルされて います。 

　Mersenne Twisterは修正BSDライセンスで公開されています。

> Copyright (C) 1997 - 2002, Makoto Matsumoto and Takuji Nishimura,
> All rights reserved.
> 
> Redistribution and use in source and binary forms, with or without
> modification, are permitted provided that the following conditions
> are met:
> 
>   1. Redistributions of source code must retain the above copyright
>      notice, this list of conditions and the following disclaimer.
> 
>   2. Redistributions in binary form must reproduce the above copyright
>      notice, this list of conditions and the following disclaimer in the
>      documentation and/or other materials provided with the distribution.
> 
>   3. The names of its contributors may not be used to endorse or promote 
>      products derived from this software without specific prior written 
>      permission.
> 
> THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
> "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
> LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
> A PARTICULAR PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER
> OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
> EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
> PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
> PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
> LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
> NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
> SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

参照：http://www.math.sci.hiroshima-u.ac.jp/~m-mat/MT/mt.html

[hspsock.dll]
　通信対戦用に使用しています。使用条件等は以下の通りです。

> ・著作権および連絡先
> 
> ユーザーがHSPを使って作成したオリジナルのソフトウェア(実行ファイル)の
> 権利は、それを作成したユーザーに属します。
> 有償・無償を問わずHSPSOCK.DLLを自由に配布することができ、onion softwareの
> 著作権表示義務もありません。
> ユーザーが作成したオリジナルのソフトウェアに対してonion softwareが著作権を
> 主張することはありません。
> 
> HSPSOCKプラグインは、onion softwareの著作物です。
> onion softwareは本プログラムによって生じた、いかなる損害についても
> 保証いたしません。自己の責任の範囲で使用してください。
> HSPDB.DLLは、Microsoft Visual C++ 7.1でコンパイルされて います。 

[hsplzmax.dll]
　面子解析用データの圧縮解除に使用しています。使用条件等は以下の通りです。

> 　このソフトウェアはどなたでも無償でご使用いただけますが、著作権を放棄するもの
> ではありません。また、このDLLを使用した結果生じた一切の事象に関して、作者は責
> 任を負いませんので、ご理解の上ご利用ください。
> 
> 　なお、DLLの作成にあたりベースとしたLZMA SDKのライセンスは以下の通りです。
> ----------------------------------(キリトリ)----------------------------------
> LZMA SDK is written and placed in the public domain by Igor Pavlov.
> ----------------------------------(キリトリ)----------------------------------

[l_tooltips.as]
　ツールチップの挙動改善に使用しています。使用条件等は以下の通りです。

> Copyright (c) 2005-2011 Kpan. All rights reserved. 
> 
> 　このサイト上に掲載されている文章、スクリプト、モジュールなどの転載は禁止し
> ています。著作権は管理人に帰属します。
> 
> 　なお、各ページ上に掲載してるスクリプトやモジュールを自身のプログラム内で利
> 用する場合、別に連絡はいりません。もしよかったら、Readme ファイルなどで一言触
> れていただければありがたいです。あと、ホームページやブログをお持ちの方はリン
> クを貼ってくれるとうれしいですね。 <（＾ｏ＾ ）

参照：http://lhsp.s206.xrea.com/


【バージョン履歴】
[1.4.2] 2011年3月19日
※1.4.1以前の設定ファイルとは互換性がなくなりました。挙動がおかしい場合、コン
フィグ画面で設定をリセットしてください。
　聴牌やめを実装。
　筋喰い変えを許容し、現物喰い変えを禁止する設定を追加。
　大明槓の包を実装。
　鳴いても赤ドラのチップが発生するオプションを追加。
　青ドラを実装。
　丁度0点で飛びにするか選択できるようにした。
　立直時の持ち点要件を設定できるようにした。
　三倍満と数え役満の基準を設定できるようにした。
　HTML牌譜のバグを修正。
　混連環套のコンフィグへの関連づけが正しくなかったのを修正。
　割れ目が北家に固定されるのを修正。
　コンフィグのツールチップで初期設定が正しく表示されないのを修正。
　コンフィグでリセットを押してもすぐに画面に反映されなかったのを修正。
　コンフィグの画面を整理・並べ替え。
　追加したローカル役：
　　明槓開花、飛燕、紀州五十五万石、上越新幹線あさひ、上越新幹線とき、白一点、
　　小三風、水戸三十五万石、青函トンネル、青函連絡船、大草原、宝紅開花、
　　紅白饅頭、世界一、東發つきもの、南白つきもの、三色通貫全帯幺九、
　　純三色通貫全帯幺九、清海湖、桃一色、茶一色、白鳥、暗中模索、欠牌和、カラス、
　　カラス立直、北枕、金鶏奪食

[1.4.1] 2011年3月12日
　ソースコードの整理。
　白ポッチの設定が正しく反映されなかったのを修正。
　ぞろ目のみのドラドラ卓にしていると王牌の数が正しくないことがあるのを修正。
　Ver1.4.0で落ちることがあるのを修正。
　積み棒のレートを設定できるようにした。
　ダブ風雀頭の符を設定できるようにした。

[1.4.0] 2011年3月4日
　ソースコードの整理。
　Windows Vista/7 で Program Files 以下にインストールした場合の対策を行った。
　スプラッシュスクリーンの追加。
　文字表示にグラデーションを付ける。
　いくつかのバグを直した。

[1.3.1] 2011年2月3日
　今度こそ最初のリリース……？
　テキスト形式の牌譜で最終牌姿が出力されないのを修正。
　三麻の抜き北で牌譜がずれることがあるのを修正。

[1.3.0] 2011年2月1日
　最初のリリース……となる予定だったもの。
　なぜ1.3から始まっているのかというと、このゲームの前身となるプログラムをかつて
公開していたことがあり、その時のソースを元にしているからです。
